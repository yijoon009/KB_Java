SQLPLUS / AS SYSDBA : ê´€ë¦¬ì sysë¡œ ì ‘ì†
show user : í˜„ì¬ ì ‘ì†í•œ ì‚¬ìš©ì ë³´ê¸°
sys : ëª¨ë“  ê¶Œí•œ


1. ê¶Œí•œ ë¶€ì—¬
ì‚¬ìš©ì ë§Œë“¤ê¸° --> ê¶Œí•œìˆëŠ” ì‚¬ìš©ìê°€ ê¶Œí•œì´ ì—†ëŠ” ì‚¬ìš©ìì—ê²Œ ê¶Œí•œ ë¶€ì—¬


2. ì‚¬ìš©ì ë§Œë“¤ê¸°
ê°€ëŠ¥í•œ ìœ„ì¹˜ : ê´€ë¦¬ì(sys, system)ì—ì„œ ë§Œë“¤ê¸°
SQL > create user [user_name] identified by [password];


3. ì‚¬ìš©ì ì ‘ì†
ë°©ë²•1) windows > sqlplus [user_name] / [password]
ë°©ë²•2) sql > conn [user_name] / [password]


4. ì ‘ì†í•  ê¶Œí•œ ë¶€ì—¬í•˜ê¸°
ì£¼ì˜!! ê¶Œí•œì´ ìˆëŠ” ê³³ì—ì„œ ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼í•œë‹¤.
grant ê¶Œí•œë‚´ìš© to userëª…
SQL> grant create session to [user_name]


5. í…Œì´ë¸” ë§Œë“¤ê¸° ê¶Œí•œ ì£¼ê¸°
tester1ë¡œ ì ‘ì† > table ë§Œë“¤ê¸° > ì˜¤ë¥˜ > sysë¡œë¶€í„° í…Œì´ë¸” ìƒì„± ê¶Œí•œë¶€ì—¬ë°›ê¸° > ë‹¤ì‹œ ë§Œë“¤ê¸° > ì„±ê³µ!

ğŸ”¶í…Œì´ë¸”ë§Œë“¤ê¸° ì˜¤ë¥˜(ORA-01950: no privileges on tablespace 'SYSTEM') ì—†ì• ê¸°
sysë¡œ ì ‘ì†í•´ì„œ
SQL> alter user tester1 quota 100m on users;
SQL> grant unlimited tablespace to tester1;


6. create view ê¶Œí•œ ì£¼ê¸°


7.tester2
tester1ì˜ ê¶Œí•œì„ ê·¸ëŒ€ë¡œ tester2ì—ê²Œ ì£¼ê¸°

	1. sysdbaì—ê²Œ ë°›ì•„ì˜¤ê¸°
	2. tester1ì—ê²Œ ë°›ì•„ì˜¤ê¸°

tester1ì´ sysdbaì— ê¶Œí•œì„ ë°›ì„ ë•Œ with admin optionë¶™ì´ë©´ ë‹¤ë¥¸ ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ì¤„ ìˆ˜ ìˆë‹¤.
ì‹¤ìŠµ) tester1ì´ tester2 ê¶Œí•œì£¼ê¸° -> ê¶Œí•œ ì „ë‹¬ ì•ˆë¨
ì‹¤ìŠµ) sysdbaê°€ tester1ì—ê²Œ ê¶Œí•œì„ ì¤„ë•Œ with admin option ê¶Œí•œì„ ë¶€ì—¬ë°›ê³  -> tester1ì´ tester2ê¶Œí•œì£¼ê¸° -> ê¶Œí•œ ì „ë‹¬ ë¨

SQL> grant create table, create view to tester1 with admin option;


8. ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ë¶€ì—¬í•˜ê¸°
tester1, tester2 ëª¨ë‘ì—ê²Œ ê¶Œí•œ ë¶€ì—¬í•˜ê¸°

SQL> grant create sequence, create procedure, drop any table to public with admin option;


9. í˜„ì¬ ìì‹ ì´ ë¶€ì—¬ë°›ì€ ê¶Œí•œ ì‚´í´ë³´ê¸°
select * from user_tab_privs_made;


10. ì‚¬ìš©ì ë‹¤ì–‘í•œ í…Œì´ë¸”
ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ í…Œì´ë¸”ì„ ê²€ìƒ‰í•´ë³´ê³ ì‹¶ì„ë•Œ
ì‚¬ìš©ì1ì´ ì‚¬ìš©ì2ì˜ í…Œì´ë¸”ì„ ê²€ìƒ‰í•´ë³´ê³  ì‹¶ì„ë•Œ

tester2 - tester1ì˜ dept01 ê²€ìƒ‰

tester1ì—ì„œ
SQL> grant select on dept01 to tester2;
tester2ì—ì„œ
SQL> select * from tester1.dept01;
		   (ìŠ¤í‚¤ë§ˆëª….í…Œì´ë¸”ëª…)

ìŠ¤í‚¤ë§ˆë€? ê°ì²´(í…Œì´ë¸”, ë·°, ì‹œí€€ìŠ¤ ,,,)ë¥¼ ì†Œìœ í•œ ì‚¬ìš©ì

ì‹¤ìŠµ)tester2ì—ì„œ ì‚½ì…í•˜ê¸°
tester1 SQL> grant insert on dept01 to tester2;
ì‹¤ìŠµ)tester2 ì‚­ì œí•˜ê¸°
ì‹¤ìŠµ)tester2 updateí•˜ê¸°


11. ê¶Œí•œ ë¶€ì—¬ ëºê¸°(ì² íšŒëŠ” ê°ì²´ê°€ ì†í•œ ìŠ¤í‚¤ë§ˆ ë‚´ì—ì„œë§Œ ê°€ëŠ¥/ ê·¼ë° ëª¨ë“  ê¶Œí•œì„ ê°€ì§„ sysì—ì„œëŠ” grant, revoke ì „ë¶€ ê°€ëŠ¥)

tester1ì—ì„œ
SQL> revoke select on dept01 from tester2;

sysì—ì„œ
SQL> revoke select on tester1.dept01 from tester2;

tester1ì—ì„œ ë³¸ì¸ê°ì²´ì—ë§Œ grant, revoke ê°€ëŠ¥

12. tester3 ë§Œë“¤ê¸°
SQL> grant insert on dept01 to tester3 with grant option;

ğŸ”¶with grant option ì€ revoke ì‹œ ë‹¤ë¥¸ì‚¬ìš©ìì—ê²Œë„ ë¶€ì—¬í•œ ê¶Œí•œì„ ê°™ì´ íšŒìˆ˜í•˜ì§€ë§Œ with admin optionì€ íŠ¹ì • ì‚¬ìš©ìì˜ ê¶Œí•œë§Œ íšŒìˆ˜ê°€ ë˜ê³  ë‚˜ë¨¸ì§€ ë‹¤ë¥¸ì‚¬ìš©ìì—ê²Œ ë¶€ì—¬ëœ ê¶Œí•œì€ íšŒìˆ˜ê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


13. tester2ê°€ tester3ì—ê²Œ selectê¶Œí•œì„ ì£¼ë ¤ê³  í•¨ -> ì‹¤íŒ¨
tester3ê°€ tester2ì—ê²Œ insertê¶Œí•œì„ ì£¼ë ¤ê³  í•¨ -> 


14. tester2ì˜ ê¶Œí•œì„ select, updateë¥¼ ë°›ì•„ì„œ tester3ì—ê²Œ select ê¶Œí•œë§Œ ë„˜ê²¨ì¤€ë‹¤.

tester1 - select, update -> tester2 -select -> tester3

tester1ì—ì„œ
SQL> grant select, update on dept01 to tester2 with grant option;
tester2ì—ì„œ
SQL> grant select on tester1.dept01 to tester3 with grant option;

ë„˜ê²¨ì¤„ë• with grant option;


15. ì² íšŒí•˜ëŠ” ê¶Œí•œ (ê¶Œí•œ ë¶€ì—¬í•œ ê³³ì—ì„œ ì² íšŒ)

tester3ì— ë¶€ì—¬ëœ select ê¶Œí•œ ëºê¸°
SQL> conn tester2/0000;
Connected.
SQL> revoke select on tester1.dept01 from tester3;


16. ì—­í•  - ROLL

DBAì˜ ì‚¬ì „ì— ì •ì˜ëœ ì—­í• : CONNECT, RESOURCE
tester5ì— ì—­í•  ë¶€ì—¬

SQL> create user tester5 identified by 0000;
User created.
SQL> grant connect, resource, dba to tester5;
Grant succeeded.
SQL> conn tester5/0000;
Connected.
SQL> grant create table to tester3;
Grant succeeded.


ì‹¤ìŠµ) ì‚¬ìš©ìì—ê²Œ ë¶€ì—¬ëœ ì—­í•  í™•ì¸í•˜ê¸°
ì‚¬ì „ ì •ì˜ëœ ì—­í• ì„ ë¶€ì—¬í•˜ê³  ì—­í•  í™•ì¸
1. ê´€ë¦¬ìê³„ì •ì—ì„œ
column table_name format a30
column comments format a55
select * from dict where table_name like '%ROLE%';

2. cmdì—ì„œ
SQL> select * from dict where table_name like '%ROLE%';


ì‹¤ìŠµ) ì‚¬ìš©ì ì •ì˜ëœ ì—­í• ì„ ë¶€ì—¬í•˜ê³  í™•ì¸
ê´€ë¦¬ìê°€ ì—­í• ì„ í•´ë‹¹ ë¶€ì„œì— ë§ê²Œ ë§Œë“¤ê¸°, í•´ë‹¹ ì§ê¸‰ì— ë§ê²Œ ë§Œë“¤ê¸°
sysì—ì„œ
1. ì—­í• ì„ ë§Œë“ ë‹¤ 
SQL> create role mrole;
2. ì—­í• ì— ê¶Œí•œ ë¶€ì—¬ 
SQL> grant create session, create table, create view to mrole;
3. ì‚¬ìš©ìì—ê²Œ ì—­í•  ë¶€ì—¬
SQL> create user tester6 identified by 0000;
SQL> grant mrole to tester6;



